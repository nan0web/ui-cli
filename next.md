# –ü–ª–∞–Ω –¥—ñ–π –¥–ª—è –Ω–∞—Å—Ç—É–ø–Ω–æ—ó —Å–µ—Å—ñ—ó

## ‚úÖ –í–∏–∫–æ–Ω–∞–Ω–æ (2026-02-05)

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –õ–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—ó (I18n) ‚úÖ
- ‚úÖ **–ù–æ–≤–∏–π —Ç–µ—Å—Ç `test:i18n`**: –°—Ç–≤–æ—Ä–µ–Ω–æ —Å–∫—Ä–∏–ø—Ç `scripts/check-i18n.js`, —è–∫–∏–π —Å–∫–∞–Ω—É—î `src/**/*.js` –Ω–∞ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å –≤–∏–∫–ª–∏–∫—ñ–≤ `t('...')` —Ç–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—î —ó—Ö –Ω–∞—è–≤–Ω—ñ—Å—Ç—å —É –≤—Å—ñ—Ö —Ñ–∞–π–ª–∞—Ö `play/vocabs/*.js`.
- ‚úÖ **Multi-Locale Snapshots**: –ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ, —â–æ `snapshot.test.js` –≥–∞—Ä–∞–Ω—Ç–æ–≤–∞–Ω–æ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –¥–ª—è –≤—Å—ñ—Ö –º–æ–≤ (uk, en) —Ç–∞ –ø–æ—Ä—ñ–≤–Ω—é—î —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏.
- ‚úÖ **–í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ø–æ–º–∏–ª–æ–∫**: –ó–Ω–∞–π–¥–µ–Ω–æ —Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –¥—Ä—É–∫–∞—Ä—Å—å–∫—É –ø–æ–º–∏–ª–∫—É –≤ —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ–º—É —Å–ª–æ–≤–Ω–∏–∫—É ("–í–∏–∫" ‚Üí "–í—ñ–∫").

### 2. –ü–æ—Å–∏–ª–µ–Ω–Ω—è –¢–∏–ø—ñ–∑–∞—Ü—ñ—ó –ü—Ä–æ–º–ø—Ç—ñ–≤ ‚úÖ
- ‚úÖ **Strict Props Validation**: –°—Ç–≤–æ—Ä–µ–Ω–æ –º–æ–¥—É–ª—å `src/core/PropValidation.js` –∑ –≤–∞–ª—ñ–¥–∞—Ç–æ—Ä–∞–º–∏ —Ç–∏–ø—ñ–≤ (validateDate, validateString, validateFunction, validateBoolean, validateNumber).
- ‚úÖ **DateTime Auto-conversion**: –í–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—É –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü—ñ—é —Ä—è–¥–∫—ñ–≤ –¥–∞—Ç —É –æ–±'—î–∫—Ç–∏ Date —É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ `DateTime`.
- ‚úÖ **Validation Integration**: –î–æ–¥–∞–Ω–æ –≤–∞–ª—ñ–¥–∞—Ü—ñ—é –ø—Ä–æ–ø—Å—ñ–≤ –¥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ñ–≤ `DateTime` —Ç–∞ `Confirm`.

### 3. –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è V2 Demo ‚úÖ
- ‚úÖ **Mock File System**: –î–æ–¥–∞–Ω–æ —Å—Ç–∞—Ç–∏—á–Ω—ñ mock-–¥–∞–Ω—ñ –¥–ª—è Tree –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∑–∞–º—ñ—Å—Ç—å —á–∏—Ç–∞–Ω–Ω—è —Ä–µ–∞–ª—å–Ω–æ—ó —Ñ–∞–π–ª–æ–≤–æ—ó —Å–∏—Å—Ç–µ–º–∏.
- ‚úÖ **Test Sequence Fix**: –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ —Ç–µ—Å—Ç–æ–≤—É –ø–æ—Å–ª—ñ–¥–æ–≤–Ω—ñ—Å—Ç—å –¥–ª—è Multiselect —É v2_components —Å–Ω–µ–ø—à–æ—Ç—ñ.
- ‚úÖ **Snapshot Update**: –û–Ω–æ–≤–∏—Ç–∏ —Å–Ω–µ–ø—à–æ—Ç–∏ –¥–ª—è –∫–æ—Ä–µ–∫—Ç–Ω–æ–≥–æ –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ–ª—ñ–≤.

### 4. V2 TDD Regression Fixes (Latest) ‚úÖ
- ‚úÖ **Navigation**: Added Main Menu Loop to V2 Demo (Showcase/Exit), matching V1 UX.
- ‚úÖ **Clean Exit**: Fixed process hang by implementing `pause()` instead of `resume()` in `ui/next.js` cleanup. Verified with regression test.
- ‚úÖ **Deep Localization**: 
  - `Confirm`: Localized "yes/no" output in summary AND native prompts (`active`/`inactive`).
  - `Multiselect` & `Select`: Added localized hints support.
  - `Multiselect`: Extracted and localized default instructions (arrow keys, etc).
- ‚úÖ **Regression Suite**: Added dedicated tests (`test/hang.test.js`, `test/confirm_format.test.js`, etc) to prevent regressions.

## üìã –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

### 5. –†–æ–∑—à–∏—Ä–µ–Ω–Ω—è –í–∞–ª—ñ–¥–∞—Ü—ñ—ó —Ç–∞ –õ–æ–∫–∞–ª—ñ–∑–∞—Ü—ñ—ó ‚úÖ
- ‚úÖ **Strict Prop Validation**: Added `validateString`, `validateNumber`, etc. to `Input`, `Select`, `Slider`, `TreeView`.
- ‚úÖ **Deep Localization**: Localized `Table` filter/status messages and `Confirm` component defaults (yes/no).
- ‚úÖ **Default Instructions**: Extracted instructions to vocabularies.

### 6. –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∏ –ü–∞–∫–µ—Ç—ñ–≤ ‚úÖ
- ‚úÖ **InputAdapter Injection**: Updated `CLiInputAdapter` to inject `t` function into all component requests.
- ‚úÖ **System.md Update**: Confirmed `system.md` standards are up-to-date.
- ‚úÖ **Executable Documentation**: Updated `README.md.js` tests and verified `README.md`.
- ‚úÖ **Type Definitions**: Rebuilt `d.ts` files with new JSDoc.

### 7. –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è CI/CD ‚úÖ
- ‚úÖ **Pre-commit Hook**: Added `test:i18n` to pre-commit checks.
- ‚è≠Ô∏è **Snapshot Diff Review**: *Skipped (requires repository admin).*

### 8. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è ‚úÖ
- ‚úÖ **Migration Guide**: Created `MIGRATION.md` covering strict validation and I18n.
- ‚úÖ **Best Practices**: Documented in `MIGRATION.md`.

### 9. –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –í—ñ–∑—É–∞–ª—å–Ω–∏—Ö –î–µ—Ñ–µ–∫—Ç—ñ–≤ (Mask) ‚úÖ
- ‚úÖ **Manual Stdout Override**: `Mask` component now manually overwrites the final output line to ensure the formatted value (e.g. `+380...`) is displayed instead of raw input (`067...`).
- ‚úÖ **Test-First Protocol**: Implemented strict `mask_visual.test.js` failing first, then passing.
- ‚úÖ **TDD Verification**: Added "TEST-FIRST FOR BUGS" protocol to `system.md`.
- ‚úÖ **Unit Tests**: Added `src/ui/mask_unit.test.js` verifying mask behavior, including the known "crooked" prefix handling (shifting).

## üìã –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

### 10. –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è –õ–æ–≥—ñ–∫–∏ –ú–∞—Å–∫–∏ (Smart Prefix)
- **Problem**: When user types prefix (e.g. `38067...`), it shifts data (`+38 (380)...`).
- **Solution**: Implement smart prefix detection in `formatMask` to ignore user-typed prefix if it matches the mask static prefix.
- **Reference**: See `src/ui/mask_unit.test.js` for reproduction case.

### 9. –†–µ–ª—ñ–∑ (Release)
- **Bump Version**: Update version in `package.json`.
- **Publish**: Run `npm publish`.
- **GitHub Release**: Create release tag.

## üéØ –ü—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∏

1. **High**: Publish Release.

## üìä –°—Ç–∞—Ç—É—Å –¢–µ—Å—Ç—ñ–≤

- ‚úÖ Unit Tests: 122/122 passed
- ‚úÖ Snapshot Tests: 26/26 passed (13 en + 13 uk)
- ‚úÖ I18n Completeness: All 21 keys present in both locales
- ‚úÖ Build: TypeScript compilation successful
- ‚úÖ Knip: No unused exports found
